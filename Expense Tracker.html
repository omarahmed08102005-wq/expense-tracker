<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Expense Tracker</title>
  <style>
    :root {
      --bg: #f4f6f9;
      --text: #000;
      --card-bg: #fff;
      --income-bg: #24c486;
      --expense-bg: #f14e4e;
      --balance-bg: #3bb77e;
      --input-bg: #fff;
      --border-color: #ccc;
    }

    body.dark {
      --bg: #121212;
      --text: #ffffff;
      --card-bg: #1e1e1e;
      --income-bg: #25a477;
      --expense-bg: #e14a4a;
      --balance-bg: #2d7a5e;
      --input-bg: #2c2c2c;
      --border-color: #444;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background: var(--bg);
      color: var(--text);
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: 0.3s;
    }

    .container {
      max-width: 1000px;
      width: 100%;
      background: var(--card-bg);
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }

    .toggle-theme {
      text-align: right;
      margin-bottom: 10px;
    }

    .toggle-theme button {
      background: var(--balance-bg);
      color: #fff;
      border: none;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
    }

    h2 {
      text-align: center;
      margin-bottom: 20px;
    }

    .balance {
      background: var(--balance-bg);
      color: white;
      padding: 20px;
      text-align: center;
      border-radius: 10px;
      margin-bottom: 20px;
    }

    .summary {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    .summary div {
      flex: 1;
      padding: 15px;
      margin: 5px;
      border-radius: 8px;
      text-align: center;
      color: white;
    }

    .income {
      background: var(--income-bg);
    }

    .expenses {
      background: var(--expense-bg);
    }

    .main-content {
      display: flex;
      gap: 20px;
    }

    .left,
    .right {
      flex: 1;
    }

    .divider {
      width: 2px;
      background-color: var(--border-color);
    }

    .transactions {
      max-height: 300px;
      overflow-y: auto;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 10px;
    }

    .transaction {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px;
      margin: 5px 0;
      border-radius: 5px;
      background: var(--input-bg);
    }

    .transaction.income {
      border-left: 5px solid var(--income-bg);
    }

    .transaction.expense {
      border-left: 5px solid var(--expense-bg);
    }

    .buttons {
      display: flex;
      gap: 6px;
    }

    .buttons button {
      padding: 4px 6px;
      font-size: 12px;
      cursor: pointer;
      border: none;
      border-radius: 4px;
    }

    .delete-btn {
      background-color: var(--expense-bg);
      color: white;
    }

    .edit-btn {
      background-color: var(--income-bg);
      color: white;
    }

    .add-transaction h3 {
      margin-bottom: 10px;
    }

    input[type="text"], input[type="number"] {
      width: 100%;
      padding: 12px;
      margin: 8px 0;
      border: 1px solid var(--border-color);
      border-radius: 6px;
      background: var(--input-bg);
      color: var(--text);
    }

    button.add-btn {
      width: 100%;
      padding: 12px;
      background: var(--balance-bg);
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 10px;
    }

    button.add-btn:hover {
      background: #34a26f;
    }

  </style>
</head>
<body>

<div class="container">
  <div class="toggle-theme">
    <button onclick="toggleTheme()">ðŸŒ— Toggle Dark Mode</button>
  </div>

  <h2>Expense Tracker</h2>

  <div class="balance">
    <h3>Your Balance</h3>
    <h1 id="balance">$0.00</h1>
  </div>

  <div class="summary">
    <div class="income">
      <h4>Income</h4>
      <p id="income">+$0.00</p>
    </div>
    <div class="expenses">
      <h4>Expenses</h4>
      <p id="expenses">-$0.00</p>
    </div>
  </div>

  <div class="main-content">
    <!-- Left Side: Transactions -->
    <div class="left">
      <h3>Transactions</h3>
      <div class="transactions" id="transaction-list">
        <!-- List gets rendered here -->
      </div>
    </div>

    <!-- Divider -->
    <div class="divider"></div>

    <!-- Right Side: Add Form -->
    <div class="right add-transaction">
      <h3 id="form-title">Add Transaction</h3>
      <input type="text" id="description" placeholder="Enter description...">
      <input type="number" id="amount" placeholder="Enter amount... (use - for expenses)">
      <button class="add-btn" onclick="handleTransaction()">Add Transaction</button>
    </div>
  </div>
</div>

<script>
  let transactions = [];
  let editIndex = -1;

  function toggleTheme() {
    document.body.classList.toggle("dark");
  }

  function handleTransaction() {
    const desc = document.getElementById('description').value.trim();
    const amt = parseFloat(document.getElementById('amount').value);

    if (desc === '' || isNaN(amt)) {
      alert("Please enter a valid description and amount.");
      return;
    }

    if (editIndex === -1) {
      transactions.push({ description: desc, amount: amt });
    } else {
      transactions[editIndex] = { description: desc, amount: amt };
      editIndex = -1;
      document.querySelector('.add-btn').innerText = 'Add Transaction';
      document.getElementById('form-title').innerText = 'Add Transaction';
    }

    document.getElementById('description').value = '';
    document.getElementById('amount').value = '';
    updateUI();
  }

  function updateUI() {
    const list = document.getElementById('transaction-list');
    list.innerHTML = '';

    let income = 0, expenses = 0;

    transactions.forEach((tx, index) => {
      const div = document.createElement('div');
      div.classList.add('transaction');
      div.classList.add(tx.amount < 0 ? 'expense' : 'income');

      const amountSign = tx.amount < 0 ? '-' : '+';
      const amountText = `${amountSign}$${Math.abs(tx.amount).toFixed(2)}`;

      div.innerHTML = `
        <span>${tx.description}</span>
        <span>${amountText}</span>
        <div class="buttons">
          <button class="edit-btn" onclick="editTransaction(${index})">Edit</button>
          <button class="delete-btn" onclick="deleteTransaction(${index})">Delete</button>
        </div>
      `;

      list.appendChild(div);

      if (tx.amount < 0) {
        expenses += tx.amount;
      } else {
        income += tx.amount;
      }
    });

    document.getElementById('balance').textContent = `$${(income + expenses).toFixed(2)}`;
    document.getElementById('income').textContent = `+$${income.toFixed(2)}`;
    document.getElementById('expenses').textContent = `-$${Math.abs(expenses).toFixed(2)}`;
  }

  function deleteTransaction(index) {
    transactions.splice(index, 1);
    updateUI();
  }

  function editTransaction(index) {
    const tx = transactions[index];
    document.getElementById('description').value = tx.description;
    document.getElementById('amount').value = tx.amount;
    document.querySelector('.add-btn').innerText = 'Update Transaction';
    document.getElementById('form-title').innerText = 'Edit Transaction';
    editIndex = index;
  }
</script>

</body>
</html>
